<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mismatch Citations Practice (Strict)</title>
  <style>
    :root{
      --bg:#f6f7ff;
      --card:#ffffff;
      --ink:#0f172a;
      --muted:#475569;
      --border:#dbe3f0;

      --accent:#6366f1;
      --accent2:#06b6d4;
      --accent3:#f59e0b;

      --good:#22c55e;
      --bad:#ef4444;

      --shadow: 0 14px 34px rgba(15,23,42,.12);
      --radius: 22px;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 10% 0%, rgba(99,102,241,.18), transparent 55%),
        radial-gradient(900px 500px at 90% 10%, rgba(6,182,212,.18), transparent 60%),
        radial-gradient(900px 600px at 50% 110%, rgba(245,158,11,.18), transparent 55%),
        var(--bg);
      padding: 28px 16px 80px;
      font-size: 18px;
      line-height: 1.65;
    }

    .wrap{max-width: 900px; margin: 0 auto;}

    header{
      background: rgba(255,255,255,.94);
      border: 1px solid rgba(219,227,240,.95);
      border-radius: var(--radius);
      padding: 22px 20px;
      box-shadow: var(--shadow);
    }

    h1{
      margin: 0 0 10px;
      font-size: clamp(26px, 3.4vw, 38px);
      letter-spacing: -0.02em;
      font-weight: 900;
      line-height: 1.2;
    }

    .sub{
      margin: 0;
      color: var(--muted);
      font-size: 17px;
      line-height: 1.55;
    }

    .chips{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:16px;
    }

    .chip{
      font-size: 14px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background:#fff;
      color: var(--muted);
    }

    .card{
      margin-top: 18px;
      background: rgba(255,255,255,.94);
      border: 1px solid rgba(219,227,240,.95);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px 20px;
    }

    h2{
      margin: 0 0 12px;
      font-size: 20px;
      font-weight: 900;
      letter-spacing: -0.01em;
    }

    .tiny{
      color: var(--muted);
      font-size: 14px;
      line-height: 1.5;
      margin: 0 0 12px;
    }

    .para{
      background:#fff;
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 18px 18px;
      font-size: 18px;
      line-height: 1.75;
    }

    .fix{
      font-size: 14px;
      color: var(--muted);
      font-weight: 900;
      letter-spacing: .02em;
    }

    .blank{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 8px 10px;
      border-radius: 14px;
      border: 1px solid rgba(99,102,241,.25);
      background: rgba(99,102,241,.07);
      vertical-align: middle;
      margin: 0 4px;
    }

    .blank input{
      width: 270px;
      max-width: 76vw;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 12px;
      font-size: 16px;
      outline: none;
      background:#fff;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .blank input:focus{
      border-color: rgba(99,102,241,.65);
      box-shadow: 0 0 0 4px rgba(99,102,241,.14);
    }

    .mark{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 15px;
      border: 1px solid var(--border);
      background:#fff;
      color: var(--muted);
      flex: 0 0 auto;
    }

    .mark.good{
      background: rgba(34,197,94,.14);
      border-color: rgba(34,197,94,.35);
      color: #14532d;
    }

    .mark.bad{
      background: rgba(239,68,68,.14);
      border-color: rgba(239,68,68,.35);
      color: #7f1d1d;
    }

    .row{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top: 18px;
    }

    .btn{
      appearance:none;
      border: 1px solid var(--border);
      background:#fff;
      color: var(--ink);
      padding: 12px 14px;
      border-radius: 999px;
      cursor:pointer;
      font-weight: 900;
      font-size: 15px;
      transition: transform .06s ease, box-shadow .2s ease, opacity .2s ease;
      user-select:none;
    }
    .btn:hover{box-shadow: 0 10px 26px rgba(15,23,42,.12); transform: translateY(-1px);}
    .btn:active{transform: translateY(0px);}
    .btn.primary{
      border:none;
      background: linear-gradient(90deg, rgba(99,102,241,1), rgba(6,182,212,1));
      color:#fff;
    }

    .score{
      margin-top: 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      color: var(--muted);
      font-size: 14px;
    }
    .bar{
      height: 12px;
      background: rgba(15,23,42,.08);
      border-radius: 999px;
      overflow:hidden;
      flex: 1;
    }
    .fill{
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(245,158,11,1), rgba(6,182,212,1), rgba(99,102,241,1));
      border-radius: 999px;
      transition: width .25s ease;
    }

    .feedback{
      margin-top: 18px;
      padding: 16px 16px;
      border-radius: 18px;
      border: 1px solid rgba(219,227,240,.95);
      background:#fff;
      color: var(--muted);
      font-size: 16px;
      line-height: 1.55;
    }

    .wc{
      background:#fff;
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 16px 16px;
      font-size: 16px;
      line-height: 1.65;
    }
    .wc .entry{margin-top: 14px;}
    .wc code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 14px;
      color: #334155;
    }

    details{
      margin-top: 18px;
      border: 1px solid rgba(219,227,240,.95);
      background: rgba(255,255,255,.88);
      border-radius: 18px;
      padding: 12px 14px;
    }
    summary{
      cursor:pointer;
      font-weight: 900;
      color: var(--ink);
      font-size: 16px;
    }
    details p{
      margin: 12px 0 0;
      color: var(--muted);
      font-size: 16px;
      line-height: 1.55;
    }

    .finalBox{
      margin-top: 18px;
      border-radius: 18px;
      border: 1px solid rgba(219,227,240,.95);
      background:#fff;
      padding: 16px 16px;
    }
    .finalTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      margin-bottom: 10px;
    }
    .finalTop .label{
      font-weight: 900;
      font-size: 16px;
    }
    .finalBox pre{
      margin:0;
      white-space: pre-wrap;
      word-break: break-word;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 15px;
      line-height: 1.5;
      color: #111827;
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%);
      background: rgba(15, 23, 42, .92);
      color:#fff;
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 14px;
      box-shadow: 0 16px 30px rgba(15,23,42,.25);
      opacity: 0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
    }
    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(-4px);
    }

    .sr-only{
      position:absolute;
      width:1px;
      height:1px;
      padding:0;
      margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;
      border:0;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <h1>Mismatch Citations Practice</h1>
      <p class="sub">
        The paragraph below has in-text citations that are wrong but understandable mistakes. Fix each one so it matches the Works Cited.
        This is strict mode: each citation has one correct answer.
      </p>
      <div class="chips">
        <div class="chip">Edit the citation in each box</div>
        <div class="chip">No page numbers in this set</div>
        <div class="chip">Strict checking</div>
      </div>
    </header>

    <section class="card">
      <h2>Student Draft Paragraph</h2>
      <p class="tiny">Each box already contains a wrong citation. Change it into the correct one.</p>

      <div class="para" id="paragraph">
        <p>
          For my research essay, I’m looking into the career path for becoming a dental hygienist, because I didn’t realize how many steps there are before you can even apply for jobs.
          One reason I’m interested is that dental hygienists generally work in clinical settings and spend a lot of time directly with patients, which means communication skills are actually a big part of the job
          <span class="blank" data-id="b1">
            <span class="fix">Fix:</span>
            (
            <input
              aria-label="Fix the in-text citation for the sentence about job conditions and patient interaction"
              aria-describedby="b1-desc b1-status"
              value="(BLS)"
            />
            <span class="mark" aria-hidden="true">?</span>
            <span class="sr-only" id="b1-desc">This citation should match the Works Cited entry about dental hygienists in the Occupational Outlook Handbook.</span>
            <span class="sr-only" id="b1-status">Not checked yet.</span>
            )
          </span>.
          Also, the schooling is not just “go to college and you’re done.” Programs usually have specific prerequisite classes and clinical training hours before you can complete the degree
          <span class="blank" data-id="b2">
            <span class="fix">Fix:</span>
            (
            <input
              aria-label="Fix the in-text citation for the sentence about prerequisites and clinical training"
              aria-describedby="b2-desc b2-status"
              value="(Bureau of Labor Statistics)"
            />
            <span class="mark" aria-hidden="true">?</span>
            <span class="sr-only" id="b2-desc">This citation should match the Works Cited entry about a college dental hygiene program page with prerequisites and clinical training.</span>
            <span class="sr-only" id="b2-status">Not checked yet.</span>
            )
          </span>.
          After school, licensing matters a lot because you can’t practice without meeting state requirements, and Washington requires both an exam and an official credential before someone can work as a hygienist
          <span class="blank" data-id="b3">
            <span class="fix">Fix:</span>
            (
            <input
              aria-label="Fix the in-text citation for the sentence about Washington licensing requirements"
              aria-describedby="b3-desc b3-status"
              value="(Green River College)"
            />
            <span class="mark" aria-hidden="true">?</span>
            <span class="sr-only" id="b3-desc">This citation should match the Works Cited entry about Washington license requirements for dental hygienists.</span>
            <span class="sr-only" id="b3-status">Not checked yet.</span>
            )
          </span>.
          Finally, when I looked at a real job posting, the employer expected not only the license, but also specific skills like charting, patient education, and being comfortable in a fast-paced office
          <span class="blank" data-id="b4">
            <span class="fix">Fix:</span>
            (
            <input
              aria-label="Fix the in-text citation for the sentence about a job posting and employer expectations"
              aria-describedby="b4-desc b4-status"
              value="(CareerOneStop)"
            />
            <span class="mark" aria-hidden="true">?</span>
            <span class="sr-only" id="b4-desc">This citation should match the Works Cited entry for the job posting source.</span>
            <span class="sr-only" id="b4-status">Not checked yet.</span>
            )
          </span>.
          Overall, these sources helped me see that this career is not just one straight step, but a mix of training, licensing, and professional expectations that you have to plan for early.
        </p>
      </div>

      <div class="row">
        <button class="btn primary" id="checkBtn">Check Answers</button>
        <button class="btn" id="revealBtn">Reveal Answers</button>
        <button class="btn" id="resetBtn">Reset</button>
      </div>

      <div class="score" id="scoreLive" aria-live="polite" aria-atomic="true">
        <span id="scoreText">Score: 0 / 4</span>
        <div class="bar" aria-hidden="true"><div class="fill" id="fill"></div></div>
      </div>

      <div class="feedback" id="feedback" tabindex="-1" aria-live="polite" aria-atomic="true">
        Fix each citation so it matches the correct Works Cited entry. Then copy your corrected paragraph.
      </div>

      <details>
        <summary>What counts as strict here</summary>
        <p>
          You must type the parentheses and quotation marks exactly. This checker ignores extra spaces and treats curly quotes the same as straight quotes.
          Everything else must match.
        </p>
      </details>

      <div class="finalBox">
        <div class="finalTop">
          <div class="label">Copy your corrected paragraph</div>
          <button class="btn" id="copyBtn">Copy for Canvas</button>
        </div>
        <pre id="finalText">Check your answers, then copy.</pre>
      </div>
    </section>

    <section class="card">
      <h2>Works Cited</h2>
      <p class="tiny">Use these entries to figure out what the in-text citations should be.</p>

      <div class="wc">
        <div class="entry">
         "Dental Hygienists". U.S. Bureau of Labor Statistics, <i>Occupational Outlook Handbook</i>,
          U.S. Department of Labor, 2024, <code>https://www.bls.gov/ooh/healthcare/dental-hygienists.htm</code>.
        </div>

        <div class="entry">
         “Dental Hygienist License Requirements.”
          <i>CareerOneStop</i>, sponsored by the BLS U.S. Department of Labor, 2024,
          <code>https://www.careeronestop.org/</code>.
        </div>

        <div class="entry">
          Green River College. “Dental Hygiene Program.”
          <i>Green River College</i>, 2024, <code>https://www.greenriver.edu/</code>.
        </div>

        <div class="entry">
          Bright Smile Dental. “Dental Hygienist (Part-Time) — Job Posting.”
          <i>Bright Smile Dental Careers</i>, 2025, <code>https://example.com/jobs</code>.
        </div>
      </div>

      <details>
        <summary>Teacher key (what the mistakes are)</summary>
        <p>
          b1 uses an abbreviation that does not appear in the Works Cited.
          b2 cites the wrong source (it cites BLS instead of the program page).
          b3 cites the program page instead of the licensing source.
          b4 cites the licensing source instead of the job posting.
        </p>
      </details>
    </section>
  </div>

  <div class="toast" id="toast">Copied!</div>

  <script>
    var STRICT_ANSWERS = {
      b1: "(\"Dental Hygienists\")",
      b2: "(\Green River College)",
      b3: "(Dental Hygenist License Requirments"),
      b4: "(Bright Smile Dental)"
    };

    var WRONG_START = {
      b1: "(BLS)",
      b2: "(Bureau of Labor Statistics)",
      b3: "(Green River College)",
      b4: "(CareerOneStop)"
    };

    function norm(s){
      return (s || "")
        .replace(/\s+/g, " ")
        .trim()
        .replace(/[“”]/g, "\"")
        .replace(/\(\s+/g, "(")
        .replace(/\s+\)/g, ")")
        .replace(/"\s*\)/g, "\")");
    }

    function toast(text){
      var t = document.getElementById("toast");
      t.textContent = text;
      t.classList.add("show");
      setTimeout(function(){ t.classList.remove("show"); }, 1200);
    }

    function getBlanks(){
      return Array.prototype.slice.call(document.querySelectorAll(".blank"));
    }

    function updateFinalText(){
      var para = document.getElementById("paragraph");
      var clone = para.cloneNode(true);

      var blankNodes = clone.querySelectorAll(".blank");
      blankNodes.forEach(function(b){
        var input = b.querySelector("input");
        var val = norm(input ? input.value : "");
        // keep the visible "Fix:" label out of the copied text
        b.innerHTML = val ? val : "(_____)";
      });

      var text = clone.innerText.replace(/\s+\n/g, "\n").replace(/\n\s+/g, "\n").trim();
      document.getElementById("finalText").textContent = text;
    }

    function setBlankStatus(id, text){
      var statusEl = document.getElementById(id + "-status");
      if(statusEl) statusEl.textContent = text;
    }

    function check(){
      var blanks = getBlanks();
      var correct = 0;

      blanks.forEach(function(b, idx){
        var id = b.getAttribute("data-id");
        var input = b.querySelector("input");
        var mark = b.querySelector(".mark");

        var user = norm(input.value);
        var expected = norm(STRICT_ANSWERS[id]);

        if(user === expected){
          correct++;
          mark.textContent = "✓";
          mark.classList.remove("bad");
          mark.classList.add("good");
          setBlankStatus(id, "Correct.");
        }else{
          mark.textContent = "✕";
          mark.classList.remove("good");
          mark.classList.add("bad");
          setBlankStatus(id, "Incorrect.");
        }
      });

      document.getElementById("scoreText").textContent = "Score: " + correct + " / 4";
      document.getElementById("fill").style.width = Math.round((correct/4)*100) + "%";

      var fb = document.getElementById("feedback");
      if(correct === 4){
        fb.textContent = "All correct. Copy your corrected paragraph for Canvas.";
      }else{
        fb.textContent = "Not yet. Fix the ones marked with X. Use the Works Cited to match each sentence to the correct source.";
      }

      updateFinalText();
      fb.focus();
    }

    function reveal(){
      getBlanks().forEach(function(b){
        var id = b.getAttribute("data-id");
        var input = b.querySelector("input");
        input.value = STRICT_ANSWERS[id];
      });
      check();
      toast("Answers filled");
    }

    function resetAll(){
      getBlanks().forEach(function(b){
        var id = b.getAttribute("data-id");
        var input = b.querySelector("input");
        var mark = b.querySelector(".mark");

        input.value = WRONG_START[id] || "";
        mark.textContent = "?";
        mark.classList.remove("good");
        mark.classList.remove("bad");
        setBlankStatus(id, "Not checked yet.");
      });

      document.getElementById("scoreText").textContent = "Score: 0 / 4";
      document.getElementById("fill").style.width = "0%";

      var fb = document.getElementById("feedback");
      fb.textContent = "Fix each citation so it matches the correct Works Cited entry. Then copy your corrected paragraph.";
      document.getElementById("finalText").textContent = "Check your answers, then copy.";
      toast("Reset");
      updateFinalText();
    }

    function fallbackCopy(text){
      var temp = document.createElement("textarea");
      temp.value = text;
      document.body.appendChild(temp);
      temp.select();
      try{
        document.execCommand("copy");
        toast("Copied!");
      }catch(e){
        toast("Copy failed — select & copy manually");
      }
      temp.remove();
    }

    function copyFinal(){
      updateFinalText();
      var text = document.getElementById("finalText").textContent;

      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(text).then(function(){
          toast("Copied for Canvas!");
        }).catch(function(){
          fallbackCopy(text);
        });
      }else{
        fallbackCopy(text);
      }
    }

    document.getElementById("checkBtn").addEventListener("click", check);
    document.getElementById("revealBtn").addEventListener("click", reveal);
    document.getElementById("resetBtn").addEventListener("click", resetAll);
    document.getElementById("copyBtn").addEventListener("click", copyFinal);

    // keep copy box updated as they type
    getBlanks().forEach(function(b){
      var input = b.querySelector("input");
      input.addEventListener("input", function(){ updateFinalText(); });
    });

    updateFinalText();
  </script>
</body>
</html>
